webpackJsonp([1],{"4WEg":function(t,e){},"7VGh":function(t,e){},"8Yst":function(t,e){},FUXN:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i={BACKEND:"backend",CLI:"cli",FRONTEND:"frontend"},s={name:"Header",data:function(){return{show:!0,tab:i.BACKEND,TAB:i}},methods:{goto:function(t){this.tab=t,this.$router.push(t)}},created:function(){window.location.hash.includes(i.BACKEND)&&(this.tab=i.BACKEND),window.location.hash.includes(i.CLI)&&(this.tab=i.CLI),window.location.hash.includes(i.FRONTEND)&&(this.tab=i.FRONTEND)}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"custom-header"},[n("div",{staticClass:"navlink",style:t.tab===t.TAB.BACKEND?{color:"#30B8BB"}:{},on:{click:function(e){return t.goto(t.TAB.BACKEND)}}},[t._v("\n    Backend\n  ")]),t._v(" "),n("div",{staticClass:"navlink",style:t.tab===t.TAB.CLI?{color:"#30B8BB"}:{},on:{click:function(e){return t.goto(t.TAB.CLI)}}},[t._v("\n    CLI\n  ")]),t._v(" "),n("div",{staticClass:"navlink",style:t.tab===t.TAB.FRONTEND?{color:"#30B8BB"}:{},on:{click:function(e){return t.goto(t.TAB.FRONTEND)}}},[t._v("\n    Frontend\n  ")])])},staticRenderFns:[]};var o={name:"App",components:{Header:n("VU/8")(s,r,!1,function(t){n("FUXN")},null,null).exports}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var c=n("VU/8")(o,l,!1,function(t){n("r2wP")},null,null).exports,u=n("/ocq"),v=n("EZGA"),d=n("hR3v"),_={name:"EntityBlock",props:{x:{type:Number},y:{type:Number},stroke:{type:String},shape:{type:SVGRect}},data:function(){return{init:!1,spacing:15,hovering:!1}},computed:{rectShape:function(){var t=this.$refs.text.getBBox();return t.width=t.width+2*this.spacing,this.$emit("update:shape",t),t},rectWidth:function(){return this.init?this.rectShape.width:0},fill:function(){return this.hovering?this.stroke:"transparent"}},methods:{click:function(){this.$emit("clicked")},hover:function(){this.hovering=!0},leave:function(){this.hovering=!1}},mounted:function(){this.init=!0}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{staticClass:"entity-block clickable",attrs:{transform:"translate("+t.x+", "+t.y+")"},on:{click:function(e){return t.click()},mouseover:t.hover,mouseleave:t.leave}},[n("rect",{attrs:{rx:"5",ry:"5",width:t.rectWidth,height:"60",fill:t.fill,stroke:t.stroke}}),t._v(" "),n("text",{ref:"text",staticClass:"block-text",attrs:{x:t.spacing-2.5,y:"42","font-size":"35"}},[t._t("default")],2)])},staticRenderFns:[]};var h=n("VU/8")(_,p,!1,function(t){n("7VGh")},null,null).exports,m={name:"Arrow",props:{x1:{type:[String,Number]},y1:{type:[String,Number]},x2:{type:[String,Number]},y2:{type:[String,Number]},nomarker:{type:Boolean,default:!1}}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("g",[e("defs",[e("marker",{attrs:{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",stroke:"none",fill:"black"}},[e("polygon",{attrs:{points:"0 0, 10 3.5, 0 7"}})])]),this._v(" "),e("line",{attrs:{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,stroke:"#000","stroke-width":"2","marker-end":this.nomarker?"":"url(#arrowhead)"}})])},staticRenderFns:[]},f=n("VU/8")(m,g,!1,null,null,null).exports,b={name:"Spoiler",props:{hide:{type:Boolean,default:!1},tab:{type:Boolean,default:!1},plate:{type:Boolean,default:!1}},data:function(){return{show:!this.hide}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["noselect",{"plate-spoiler":t.plate}]},[a("div",{on:{click:function(e){t.show=!t.show}}},[a("img",{class:["icon-arrow","clickable",{rotate:t.show}],attrs:{src:n("gRDG"),width:"16",height:"16"}}),t._v(" "),a("div",{staticClass:"d-inline-block noselect"},[t._t("heading")],2)]),t._v(" "),a("transition",{attrs:{name:"fadeHeight"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:{tab:t.tab}},[t._t("default")],2)])],1)},staticRenderFns:[]};var y=n("VU/8")(b,C,!1,function(t){n("kfW8")},null,null).exports,k=(n("Z6VL"),n("rkqb"),{name:"Scheme",components:{Splitpanes:v.Splitpanes,Pane:v.Pane,EntityBlock:h,Arrow:f,Spoiler:y},directives:{dragscroll:d.dragscroll},data:function(){return{FormRequest:null,Controller:null,Action:null,Task:null,Model:null,Entity:null,Exception:null,Helpers:null,Collection:null,Contract:null,Interface:null,tabs:{FormRequest:1,Controller:2,Action:3,Task:4,Model:5,Entity:6,Exception:7,Helpers:8,Collection:9,Builder:10,Contract:11,Interface:12},current_tab:1,code:{FormRequest:"namespace App\\Http\\Requests\\Product;\n\nuse Illuminate\\Foundation\\Http\\FormRequest;\n\nclass CreateProductRequest extends FormRequest\n{\n  public function rules() : array\n  {\n    return [\n      'title'       => 'required|string|min:2|max:30',\n      'price'       => 'required|integer|min:0|max:100000',\n      'tags'        => 'required|array',\n      'description' => 'nullable|string|min:2|max:30',\n    ];\n  }\n}",Controller:"namespace App\\Http\\Controllers\\App;\n\nuse Illuminate\\Http\\JsonResponse;\n\nuse Exception;\n\nuse App\\Http\\Controllers\\Controller;\nuse App\\Http\\Requests\\Product\\CreateProductRequest;\nuse App\\Actions\\Product\\CreateProductAction;\n\nclass ProductController extends Controller\n{\n  public function create(CreateProductRequest $request) : JsonResponse\n  {\n    $input  = $request->validated();\n    $title       = $input['title'];\n    $description = $input['description'];\n    $price       = $input['price'];\n    $tags        = $input['tags'];\n\n    try {\n      $action = new CreateProductAction();\n      $output = $action->run($title, $description, $price, $tags);\n    }\n    catch(Exception $e) {\n      // return exception render\n    }\n\n    return response()->json($output);\n  }\n}",Action:"namespace App\\Actions\\Auth;\n\nuse App\\Actions\\Action;\nuse App\\Tasks\\{\n  AuthorizeUserTask,\n  ConstructJwtTask,\n  GetCurrentUserTask,\n};\nuse App\\Models\\User;\nuse App\\Exceptions\\AlreadyAuthorizedException;\nuse App\\Exceptions\\ForbiddenException;\n\nclass SigninAction extends Action\n{\n  /**\n   * Данный метод можно не определять, если не нужно проверять доступ пользователя.\n   * Метод вызовется автоматически при создании нового экземпляра SigninAction.\n   */\n  public function authorize() : ?User\n  {\n    $user = auth()->user();\n    if ($user->alreadyAuthorized()) throw new AlreadyAuthorizedException();\n    if ($user->cant('signin')) throw new ForbiddenException(); // Policy check\n    return $user;\n  }\n\n  public function run(string $phone, string $password) : array\n  {\n    $token = AuthorizeUserTask::run($phone, $password);\n    $jwt   = ConstructJwtTask::run($token);\n\n    return compact('jwt', $this->user);\n  }\n}",Task:"namespace App\\Tasks;\n\nuse App\\Entities\\SMSManager;\n\nuse App\\Exceptions\\SMS\\{\n  NotFoundException,\n  CodeComparisonFailedException,\n};\n\nclass VerifySMSCodeTask extends Task\n{\n  public static function run(string $phone, string $code) : void\n  {\n    $SMSManager = new SMSManager();\n    $sms = $SMSManager->getSMS($phone);\n\n    if (!$sms) {\n      throw new NotFoundException();\n    }\n    if (!$sms->verifyCode($code)) {\n      throw new CodeComparisonFailedException();\n    }\n  }\n}",Model:"namespace App\\Models;\n\nuse App\\Collections\\ProductCollection;\n\nclass Product extends Model\n{\n  protected $table = 'product';\n\n  protected $fillable = [\n    'title',\n    'description',\n    'price',\n  ];\n\n  public function newCollection(array $models = []) : ProductCollection\n  {\n    return new ProductCollection($models);\n  }\n}",Entity:"namespace App\\Entities;\n\nuse App\\Exceptions\\SMS\\ValidationFailedException;\nuse Illuminate\\Support\\Facades\\Hash;\n\nclass SMS\n{\n  public string $phone;\n  public string $message;\n  public ?string $code;\n  public int $repeat;\n\n  function __construct(string $phone, string $message, ?string $code = null)\n  {\n    $this->phone   = $phone;\n    $this->message = $message;\n    $this->code    = $code;\n    $this->repeat  = 0;\n  }\n\n  function __serialize()\n  {\n    return [\n      'phone'   => $this->phone,\n      'code'    => bcrypt($this->code),\n      'repeat'  => $this->repeat,\n    ];\n  }\n\n  function __unserialize(array $data)\n  {\n    $this->phone  = $data['phone'];\n    $this->code   = $data['code'];\n    $this->repeat = $data['repeat'];\n  }\n\n  function __get($property) {\n    if (property_exists($this, $property)) {\n      return $this->$property;\n    }\n    else if ($property === 'full_phone') {\n      return '7' . $this->phone;\n    }\n  }\n\n  public function validate(string ...$fields)\n  {\n    foreach ($fields as $field) {\n      if (!$this->{$field})\n        throw new ValidationFailedException();\n    }\n  }\n\n  public function verifyCode(string $code) : bool\n  {\n    $this->validate('code');\n    return Hash::check($code, $this->code);\n  }\n}",Exception:"namespace App\\Exceptions;\n\nuse Exception;\n\nclass BuisnesLogicException extends Exception\n{\n  public function report()\n  {\n\n  }\n\n  public function render()\n  {\n    return response()->json($this->message, 422);\n  }\n}",Collection:{main:"#provided by kotomkin\n\nnamespace App\\Collections;\n\nuse Illuminate\\Database\\Eloquent\\{\n  Collection as EloquentCollection,\n  Builder as EloquentBuilder,\n};\n\nuse Illuminate\\Support\\Facades\\DB;\n\nuse Illuminate\\Database\\Query\\JoinClause;\n\nuse App\\Models\\{\n  Chat,\n  ChatMessage,\n};\n\nclass ChatCollection extends EloquentCollection\n{\n  public function loadUnreadMessagesCount(int $user_id): self\n  {\n    $chat_id_list = $this->modelKeys();\n\n    $unread_messages_map = ChatMessage::query()\n      ->whereIn('chat_message.chat_id', $chat_id_list)\n      ->leftJoin('chat_visit', function(JoinClause $join) use($user_id): void {\n        $join->on(  'chat_message.chat_id', '=', 'chat_visit.chat_id')\n          ->where('chat_visit.author_id', $user_id);\n      })\n      ->where(function(EloquentBuilder $query): void {\n        $query->whereNull('chat_visit.last_visited_at')\n          ->orWhereColumn('chat_message.created_at', '>', 'chat_visit.last_visited_at');\n      })\n      ->groupBy('chat_message.chat_id')\n      ->get(['chat_message.chat_id', DB::raw('COUNT(*) as unread_messages_count')])\n      ->keyBy('chat_id');\n      return $this->each(function(Chat $chat) use($unread_messages_map): void {\n        $chat->unread_messages_count = $unread_messages_map->get($chat->id)->unread_messages_count ?? 0;\n      });\n  }\n}",example:"$user_id = auth()->id();\n$chats   = Chat::get();\n\n$chats->loadUnreadMessagesCount($user_id);\n"},Builder:{main:"namespace App\\QueryBuilders;\n\nuse App\\Contracts\\CustomQueryBuilder;\n\nclass LocationQueryBuilder extends CustomQueryBuilder\n{\n  /**\n   * Получает записи 15-дневной давности\n   */\n  public function forTheLast15Days(): self\n  {\n    $this->whereDate('created_at', '>', Carbon::now()->subDays(15));\n\n    return $this;\n  }\n}",example:"$location_list = Location::forTheLast15Days()->get();"},Helpers:"/**\n* Проверяет может ли массив быть передан в `sync()`\n*\n* @param array $array Массив для проверки\n*/\nfunction is_syncable(array $array) : bool\n{\n foreach ($array as $item) {\n   if (!is_int($item)) return false;\n }\n return true;\n}\n\n/**\n* Генерирует `$n`-значный рандомный код\n*\n* @param int $n Число знаков в коде\n*/\nfunction codegen(int $n, string $alloc = null) : string\n{\n return $n ? codegen(--$n, $alloc .= rand(0,9)) : $alloc;\n}\n",Contract:"namespace App\\Contracts;\n\nabstract class CustomSerrializer extends ISerrializer\n{\n  final public function serrialize()\n  {\n    // code\n  }\n}",Interface:"namespace App\\Interfaces;\n\ninterface ISerrializer\n{\n  public function serrialize()\n  {\n    // code\n  }\n}"},codeinit:!1}},computed:{computed:function(){return!!(this.FormRequest&&this.Controller&&this.Action&&this.Task&&this.Model&&this.Entity&&this.Exception&&this.Helpers&&this.Collection)}},methods:{getCode:function(){this.codeinit=!0},setTab:function(t){this.current_tab=t}},mounted:function(){this.getCode()}}),x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("splitpanes",{staticClass:"default-theme"},[n("pane",{staticClass:"scheme-pane",attrs:{"min-size":"30",size:"65"}},[n("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll",value:!0,expression:"true"}],staticClass:"svg-container"},[n("svg",{attrs:{width:1400,height:1e3,viewBox:"0 0 1400 1000",xmlns:"http://www.w3.org/2000/svg",stroke:"red",fill:"grey"}},[n("g",{attrs:{transform:"translate(0,100)"}},[n("EntityBlock",{attrs:{x:100,y:100,shape:t.FormRequest,stroke:"crimson"},on:{clicked:function(e){return t.setTab(t.tabs.FormRequest)},"update:shape":function(e){t.FormRequest=e}}},[t._v("FormRequest")]),t._v(" "),n("EntityBlock",{attrs:{x:400,y:100,shape:t.Controller,stroke:"darkseagreen"},on:{clicked:function(e){return t.setTab(t.tabs.Controller)},"update:shape":function(e){t.Controller=e}}},[t._v("Controller")]),t._v(" "),n("EntityBlock",{attrs:{x:650,y:100,shape:t.Action,stroke:"cornflowerblue"},on:{clicked:function(e){return t.setTab(t.tabs.Action)},"update:shape":function(e){t.Action=e}}},[t._v("Action")]),t._v(" "),n("EntityBlock",{attrs:{x:940,y:100,shape:t.Task,stroke:"mediumpurple"},on:{clicked:function(e){return t.setTab(t.tabs.Task)},"update:shape":function(e){t.Task=e}}},[t._v("Task")]),t._v(" "),n("EntityBlock",{attrs:{x:1100,y:100,shape:t.Model,stroke:"tomato"},on:{clicked:function(e){return t.setTab(t.tabs.Model)},"update:shape":function(e){t.Model=e}}},[t._v("Model")]),t._v(" "),n("EntityBlock",{attrs:{x:1030,y:200,shape:t.Entity,stroke:"slateblue"},on:{clicked:function(e){return t.setTab(t.tabs.Entity)},"update:shape":function(e){t.Entity=e}}},[t._v("Entity")]),t._v(" "),n("EntityBlock",{attrs:{x:1e3,y:300,shape:t.Exception,stroke:"orange"},on:{clicked:function(e){return t.setTab(t.tabs.Exception)},"update:shape":function(e){t.Exception=e}}},[t._v("Exception")]),t._v(" "),n("EntityBlock",{attrs:{x:1020,y:400,shape:t.Helpers,stroke:"skyblue"},on:{clicked:function(e){return t.setTab(t.tabs.Helpers)},"update:shape":function(e){t.Helpers=e}}},[t._v("Helpers")]),t._v(" "),n("EntityBlock",{attrs:{x:1e3,y:500,shape:t.Collection,stroke:"orchid"},on:{clicked:function(e){return t.setTab(t.tabs.Collection)},"update:shape":function(e){t.Collection=e}}},[t._v("Collection")]),t._v(" "),n("EntityBlock",{attrs:{x:1020,y:600,shape:t.Collection,stroke:"cadetblue"},on:{clicked:function(e){return t.setTab(t.tabs.Builder)},"update:shape":function(e){t.Collection=e}}},[t._v("Builder")]),t._v(" "),n("EntityBlock",{attrs:{x:400,y:250,shape:t.Contract,stroke:"silver"},on:{clicked:function(e){return t.setTab(t.tabs.Contract)},"update:shape":function(e){t.Contract=e}}},[t._v("Contract")]),t._v(" "),n("EntityBlock",{attrs:{x:650,y:250,shape:t.Interface,stroke:"tan"},on:{clicked:function(e){return t.setTab(t.tabs.Interface)},"update:shape":function(e){t.Interface=e}}},[t._v("Interface")]),t._v(" "),t.computed?n("g",[n("Arrow",{attrs:{x1:100+t.FormRequest.width,y1:130,x2:t.FormRequest.width+138,y2:130}}),t._v(" "),n("Arrow",{attrs:{x1:400+t.Controller.width,y1:130,x2:t.Controller.width+440,y2:130}}),t._v(" "),n("Arrow",{attrs:{nomarker:"",x1:650+t.Action.width/2,y1:100,x2:650+t.Action.width/2,y2:50}}),t._v(" "),n("Arrow",{attrs:{nomarker:"",x1:650+t.Action.width/2,y1:50,x2:1100+t.Model.width/2,y2:50}}),t._v(" "),n("Arrow",{attrs:{x1:940+t.Task.width/2,y1:50,x2:940+t.Task.width/2,y2:80}}),t._v(" "),n("Arrow",{attrs:{x1:1100+t.Model.width/2,y1:50,x2:1100+t.Model.width/2,y2:80}}),t._v(" "),n("Arrow",{attrs:{x1:940+t.Task.width,y1:130,x2:975+t.Task.width,y2:130}}),t._v(" "),n("Arrow",{attrs:{x1:900,y1:230,x2:1010,y2:230}}),t._v(" "),n("Arrow",{attrs:{x1:900,y1:330,x2:980,y2:330}}),t._v(" "),n("Arrow",{attrs:{x1:900,y1:430,x2:1e3,y2:430}}),t._v(" "),n("Arrow",{attrs:{x1:900,y1:530,x2:980,y2:530}}),t._v(" "),n("Arrow",{attrs:{x1:900,y1:630,x2:1e3,y2:630}}),t._v(" "),n("Arrow",{attrs:{nomarker:"",x1:900,y1:630,x2:900,y2:130}}),t._v(" "),n("Arrow",{attrs:{nomarker:"",x1:779,y1:130,x2:940,y2:130}}),t._v(" "),n("Arrow",{attrs:{x1:1140+t.Model.width,y1:230,x2:1045+t.Model.width,y2:230}}),t._v(" "),n("Arrow",{attrs:{x1:1140+t.Model.width,y1:430,x2:1065+t.Model.width,y2:430}}),t._v(" "),n("Arrow",{attrs:{x1:1140+t.Model.width,y1:530,x2:1080+t.Model.width,y2:530}}),t._v(" "),n("Arrow",{attrs:{x1:1140+t.Model.width,y1:630,x2:1055+t.Model.width,y2:630}}),t._v(" "),n("Arrow",{attrs:{nomarker:"",x1:1140+t.Model.width,y1:630,x2:1140+t.Model.width,y2:130}}),t._v(" "),n("Arrow",{attrs:{nomarker:"",x1:1140+t.Model.width,y1:130,x2:1140+t.Model.width,y2:130}}),t._v(" "),n("Arrow",{attrs:{nomarker:"",x1:1140+t.Model.width,y1:130,x2:1100+t.Model.width,y2:130}})],1):t._e()],1)])])]),t._v(" "),n("pane",{staticClass:"content-pane",attrs:{"min-size":"30",size:"35"}},[n("div",{staticClass:"content"},[t.current_tab===t.tabs.FormRequest?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            FormRequest\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Request является воплощением запроса от пользователя к серверу.\n              "),n("br"),t._v(" "),n("br"),t._v(" "),n("b",[t._v("Правила:")]),t._v(" "),n("ul",[n("li",[t._v("Request отвечает "),n("b",[t._v("только")]),t._v(" за валидацию данных, поступающих в контроллер.")]),t._v(" "),n("li",[t._v("Request "),n("b",[t._v("не может")]),t._v(" использовать другие сущности (в том числе Request).")])])])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.FormRequest}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Controller?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Controller\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Controller отделяет бизнес логику от валидации данных и манипуляций с запросами.\n              "),n("br"),t._v(" "),n("br"),t._v(" "),n("b",[t._v("Правила:")]),t._v(" "),n("ul",[n("li",[t._v("Controller "),n("b",[t._v("обязан")]),t._v(" использовать кастомный Request для каждого своего метода.")]),t._v(" "),n("li",[t._v("\n                  Controller "),n("b",[t._v("должен")]),t._v(" уметь:\n                  "),n("ul",[n("li",[t._v("получить "),n("b",[t._v("отвалидированные")]),t._v(" данные из Request")]),t._v(" "),n("li",[t._v("передать эти данные в Action")]),t._v(" "),n("li",[t._v("получить ответ от Action")]),t._v(" "),n("li",[t._v("составить и вернуть ответ")])])]),t._v(" "),n("li",[t._v("Controller "),n("b",[t._v("не может использовать какие-либо")]),t._v(" сущности.")]),t._v(" "),n("li",[n("b",[t._v("Каждый")]),t._v(" метод контроллера может вызывать "),n("b",[t._v("только один")]),t._v(" Action.")])])])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Controller}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Action?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Action\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Action - это точка входа в бизнес логику приложения. Action представляет собой действие в приложении и по совокупности этих действий можно определить, что делает приложение.\n              "),n("br"),t._v(" "),n("br"),t._v(" "),n("b",[t._v("Правила:")]),t._v(" "),n("ul",[n("li",[t._v("Action состоит из "),n("b",[t._v("двух публичных методов:")]),t._v(" "),n("ul",[n("li",[n("code",{staticStyle:{"font-size":"16px"}},[t._v("run()")]),t._v(" - Содержит весь код, реализующий бизнес-логику Action")]),t._v(" "),n("li",[n("code",{staticStyle:{"font-size":"16px"}},[t._v("authorize()")]),t._v(" - Содержит проверку доступа пользователя к коду в "),n("code",{staticStyle:{"font-size":"16px"}},[t._v("run()")]),t._v(". Позволяет вернуть инстанс "),n("code",{staticStyle:{"font-size":"16px"}},[t._v("User")]),t._v(", доступ к которому можно получить через "),n("code",{staticStyle:{"font-size":"16px"}},[t._v("$this->user")]),t._v(" внутри метода "),n("code",{staticStyle:{"font-size":"16px"}},[t._v("run()")])])])]),t._v(" "),n("li",[t._v("Action "),n("b",[t._v("едиственная")]),t._v(" сущность, которая может использовать Policy.")]),t._v(" "),n("li",[t._v("Action "),n("b",[t._v("не может")]),t._v(" поднимать вверх по схеме сущности, которыми может пользоваться.")]),t._v(" "),n("li",[t._v("\n                  Action "),n("b",[t._v("может")]),t._v(" использовать сколько угодно:\n                  "),n("ul",[n("li",[t._v("Task")]),t._v(" "),n("li",[t._v("Exception")]),t._v(" "),n("li",[t._v("Collection")]),t._v(" "),n("li",[t._v("Entity")]),t._v(" "),n("li",[t._v("Helpers")]),t._v(" "),n("li",[t._v("Model")])])]),n("li",[t._v("Action "),n("b",[t._v("не может")]),t._v(" использовать другой Action.")]),t._v(" "),n("li",[t._v("Action "),n("b",[t._v("не может")]),t._v(" реализовывать Contract.")])])])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Action}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Task?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Task\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Task - сущность, инкапсулирующая выполнение определенной задачи.\n              "),n("br"),t._v(" "),n("br"),t._v(" "),n("b",[t._v("Правила:")]),t._v(" "),n("ul",[n("li",[t._v("Cостоит "),n("b",[t._v("только из одного публичного статического метода")]),t._v(" run()")]),t._v(" "),n("li",[t._v("\n                  Task "),n("b",[t._v("может")]),t._v(" использовать сколько угодно:\n                  "),n("ul",[n("li",[t._v("Exception")]),t._v(" "),n("li",[t._v("Collection")]),t._v(" "),n("li",[t._v("Helpers")]),t._v(" "),n("li",[t._v("Model")])])]),t._v(" "),n("li",[t._v("Task "),n("b",[t._v("не может")]),t._v(" использовать другой Task.")]),t._v(" "),n("li",[t._v("Task "),n("b",[t._v("не может")]),t._v(" реализовывать Contract.")])])])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Task}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Model?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Model\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Model - модель Laravel.\n              "),n("br"),t._v(" "),n("br"),t._v(" "),n("b",[t._v("Правила:")]),t._v(" "),n("ul",[n("li",[t._v("Model "),n("b",[t._v("может")]),t._v(" использовать свой Collection.")]),t._v(" "),n("li",[t._v("Model "),n("b",[t._v("может")]),t._v(" реализовывать Contract.")]),t._v(" "),n("li",[t._v("Model "),n("b",[t._v("может")]),t._v(" использовать другую Model.")]),t._v(" "),n("li",[t._v("Model "),n("b",[t._v("может")]),t._v(" использовать трейты для шэринга скоупами.")])])])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Model}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Entity?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Entity\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Entity - сущность, которая реализует конкретную задачу с использованием преимуществ ООП (сохранение состояния, наследование, инкапсуляция и т.д.), но при этом не нуждается в использовании EloquentBuilder как Model.\n              "),n("br"),t._v(" "),n("br"),t._v("\n                Большая задача может решаться целым namespace'ом, состоящим из Entity разного назначения: классы, классы-мэнеджеры, абстрактные классы, контракты.\n              "),n("br"),t._v(" "),n("br"),t._v(" "),n("b",[t._v("Правила:")]),t._v(" "),n("ul",[n("li",[t._v("\n                  Entity "),n("b",[t._v("может")]),t._v(" использовать сколько угодно:\n                  "),n("ul",[n("li",[t._v("Task")]),t._v(" "),n("li",[t._v("Exception")]),t._v(" "),n("li",[t._v("Collection")]),t._v(" "),n("li",[t._v("Entity")]),t._v(" "),n("li",[t._v("Helpers")]),t._v(" "),n("li",[t._v("Model")])])]),t._v(" "),n("li",[t._v("Entity "),n("b",[t._v("может")]),t._v(" реализовывать Contract.")])])])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Entity}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Exception?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Exception\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Exception - исключение, выбрасываемое в случае ошибки.\n              "),n("br"),t._v(" "),n("br"),t._v(" "),n("b",[t._v("Правила:")]),t._v(" "),n("ul",[n("li",[t._v("Exception "),n("b",[t._v("не может")]),t._v(" использовать сущности.")])])])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Exception}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Collection?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Collection\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Collection инкапсулирует чейнинг EloquentCollection для конкретной модели.\n              "),n("br"),t._v(" "),n("br"),t._v(" "),n("b",[t._v("Правила:")]),t._v(" "),n("ul",[n("li",[t._v("Collection "),n("b",[t._v("может")]),t._v(" использовать Model.")]),t._v(" "),n("li",[t._v("Collection "),n("b",[t._v("может")]),t._v(" использовать Helpers.")]),t._v(" "),n("li",[t._v("Collection "),n("b",[t._v("может")]),t._v(" использовать Exception.")]),t._v(" "),n("li",[t._v("Collection "),n("b",[t._v("может")]),t._v(" использовать другую Collection.")]),t._v(" "),n("li",[t._v("Collection "),n("b",[t._v("может")]),t._v(" реализовывать Contract.")]),t._v(" "),n("li",[t._v("Collection "),n("b",[t._v("не может")]),t._v(" использовать остальные сущности.")])])])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Collection.main}}),t._v(" "),n("highlightjs",{attrs:{language:"php",code:t.code.Collection.example}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Builder?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Builder\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Builder инкапсулирует чейнинг EloquentBuilder для конкретной модели.\n              "),n("br"),t._v(" "),n("br"),t._v(" "),n("b",[t._v("Правила:")]),t._v(" "),n("ul",[n("li",[t._v("Builder "),n("b",[t._v("может")]),t._v(" использовать Model.")]),t._v(" "),n("li",[t._v("Builder "),n("b",[t._v("может")]),t._v(" использовать Helpers.")]),t._v(" "),n("li",[t._v("Builder "),n("b",[t._v("может")]),t._v(" использовать Exception.")]),t._v(" "),n("li",[t._v("Builder "),n("b",[t._v("может")]),t._v(" реализовывать Contract.")]),t._v(" "),n("li",[t._v("Builder "),n("b",[t._v("не может")]),t._v(" использовать остальные сущности.")])])])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Builder.main}}),t._v(" "),n("highlightjs",{attrs:{language:"php",code:t.code.Builder.example}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Helpers?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Helpers\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Helpers - глобальные функции-хэлперы.\n              "),n("br"),t._v(" "),n("br")])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Helpers}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Contract?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Contract\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Contract - абстрактный класс, предоставляющий базовую реализацию какого-либо функционала.\n              "),n("br"),t._v(" "),n("br")])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Contract}})],1)])],1):t._e(),t._v(" "),t.current_tab===t.tabs.Interface?n("section",{staticClass:"section"},[n("div",{staticClass:"heading"},[t._v("\n            Interface\n          ")]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Описание")])]},proxy:!0}],null,!1,3525547240)},[t._v(" "),n("div",{staticClass:"ru"},[t._v("\n              Interface - интерфейс. Описывает то, как себя обязаны вести наследующие его сущности.\n              "),n("br"),t._v(" "),n("br")])]),t._v(" "),n("Spoiler",{scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Пример кода")])]},proxy:!0}],null,!1,2092210910)},[t._v(" "),n("div",[n("highlightjs",{attrs:{language:"php",code:t.code.Interface}})],1)])],1):t._e()])])],1)],1)},staticRenderFns:[]},w=n("VU/8")(k,x,!1,null,null,null).exports,S={components:{Splitpanes:v.Splitpanes,Pane:v.Pane,Spoiler:y},data:function(){return{}},computed:{getClass:function(){return Math.random()<.2?"special-image-pane":"image-pane"}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("splitpanes",{staticClass:"default-theme"},[n("pane",{staticClass:"content-pane",attrs:{"min-size":"30",size:"45"}},[n("div",{staticClass:"content"},[n("section",{staticClass:"section"},[n("Spoiler",{attrs:{tab:""},scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Команды поставляемые пакетом "),n("code",[n("a",{attrs:{href:"https://github.com/localusercamp/tm-commands"}},[t._v("thread-media/commands")])])])]},proxy:!0}])},[t._v(" "),[n("div",{staticClass:"ru extnd"},[t._v("\n                Установка пакета: "),n("code",{staticClass:"cd-inline"},[t._v("composer require thread-media/commands")]),t._v(" "),n("br"),n("br")]),t._v(" "),n("Spoiler",{attrs:{hide:"",tab:""},scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("make:action")])]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"ru extnd"},[t._v("\n                  Создает новый Action "),n("br"),n("br"),t._v(" "),n("code",[n("div",{staticClass:"cd"},[n("sy",[t._v("php artisan make:")]),n("cs",[t._v("action")]),t._v(" "),n("pr",[t._v("CustomAction")])],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"cd"},[n("pr",[t._v("CustomAction")]),t._v(" - Название класса (поддерживает указание "),n("sy",[t._v("namespace")]),t._v(")")],1)]),t._v(" "),n("br"),n("br")])]),t._v(" "),n("Spoiler",{attrs:{hide:"",tab:""},scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("make:task")])]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"ru extnd"},[t._v("\n                  Создает новый Task "),n("br"),n("br"),t._v(" "),n("code",[n("div",{staticClass:"cd"},[n("sy",[t._v("php artisan make:")]),n("cs",[t._v("task")]),t._v(" "),n("pr",[t._v("CustomTask")])],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"cd"},[n("pr",[t._v("CustomTask")]),t._v(" - Название класса (поддерживает указание "),n("sy",[t._v("namespace")]),t._v(")")],1)]),t._v(" "),n("br"),n("br")])]),t._v(" "),n("Spoiler",{attrs:{hide:"",tab:""},scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("make:entity")])]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"ru extnd"},[t._v("\n                  Создает новую сущность Entity "),n("br"),n("br"),t._v(" "),n("code",[n("div",{staticClass:"cd"},[n("sy",[t._v("php artisan make:")]),n("cs",[t._v("entity")]),t._v(" "),n("pr",[t._v("Entity")])],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"cd"},[n("pr",[t._v("Entity")]),t._v(" - Название класса (поддерживает указание "),n("sy",[t._v("namespace")]),t._v(")")],1)]),t._v(" "),n("br"),n("br")])]),t._v(" "),n("Spoiler",{attrs:{hide:"",tab:""},scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("make:contract")])]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"ru extnd"},[t._v("\n                  Создает новый Contract "),n("br"),n("br"),t._v(" "),n("code",[n("div",{staticClass:"cd"},[n("sy",[t._v("php artisan make:")]),n("cs",[t._v("contract")]),t._v(" "),n("pr",[t._v("Contract")])],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"cd"},[n("pr",[t._v("Contract")]),t._v(" - Название класса (поддерживает указание "),n("sy",[t._v("namespace")]),t._v(")")],1)]),t._v(" "),n("br"),n("br")])]),t._v(" "),n("Spoiler",{attrs:{hide:"",tab:""},scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("make:interface")])]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"ru extnd"},[t._v("\n                  Создает новый Interface "),n("br"),n("br"),t._v(" "),n("code",[n("div",{staticClass:"cd"},[n("sy",[t._v("php artisan make:")]),n("cs",[t._v("interface")]),t._v(" "),n("pr",[t._v("Interface")])],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"cd"},[n("pr",[t._v("Interface")]),t._v(" - Название интерфейса (поддерживает указание "),n("sy",[t._v("namespace")]),t._v(")")],1)]),t._v(" "),n("br"),n("br")])]),t._v(" "),n("Spoiler",{attrs:{hide:"",tab:""},scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("make:collection")])]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"ru extnd"},[t._v("\n                  Создает новую Collection "),n("br"),n("br"),t._v(" "),n("code",[n("div",{staticClass:"cd"},[n("sy",[t._v("php artisan make:")]),n("cs",[t._v("collection")]),t._v(" "),n("pr",[t._v("CustomCollection")]),t._v(" "),n("pr",[t._v("-m Model")])],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"cd"},[n("pr",[t._v("CustomCollection")]),t._v(" - Название класса (поддерживает указание "),n("sy",[t._v("namespace")]),t._v(")\n                    ")],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"cd"},[n("pr",[t._v("-m Model")]),t._v(" - Имя модели в папке Models (опционально)\n                      "),n("br"),t._v(" "),n("hr",{staticClass:"nice-hr"}),t._v("\n                      Если указан, то в существующей модели будет создана функция для возвращения CustomCollection при вызове EloquentBuilder::get()\n                    ")],1)])])]),t._v(" "),n("Spoiler",{attrs:{hide:"",tab:""},scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("make:query-builder")])]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"ru extnd"},[t._v("\n                  Создает новый QueryBuilder "),n("br"),n("br"),t._v(" "),n("code",[n("div",{staticClass:"cd"},[n("sy",[t._v("php artisan make:")]),n("cs",[t._v("query-builder")]),t._v(" "),n("pr",[t._v("CustomQueryBuilder")]),t._v(" "),n("pr",[t._v("-m Model")])],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"cd"},[n("pr",[t._v("CustomQueryBuilder")]),t._v(" - Название класса (поддерживает указание "),n("sy",[t._v("namespace")]),t._v(")\n                    ")],1),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"cd"},[n("pr",[t._v("-m Model")]),t._v(" - Имя модели в папке Models (опционально)\n                      "),n("br"),t._v(" "),n("hr",{staticClass:"nice-hr"}),t._v("\n                      Если указан, то в существующей модели будет создана функция для возвращения CustomQueryBuilder при конструировании нового запроса\n                    ")],1)])])])]],2)],1)])]),t._v(" "),n("pane",{class:t.getClass,attrs:{"min-size":"20","max-size":"60",size:"55"}})],1)],1)},staticRenderFns:[]},M=n("VU/8")(S,E,!1,null,null,null).exports,A={name:"Swirl",props:{active:{type:Boolean,default:!1}},data:function(){return{}},computed:{},methods:{emitActivated:function(){this.$emit("activated")}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["swirl","clickable",{active:t.active}],on:{click:function(e){return t.emitActivated()}}},[n("div",{class:["swirl-arrow-line",{active:t.active}]}),t._v(" "),n("div",{staticClass:"swirl-content"},[t._t("default")],2)])},staticRenderFns:[]};var $=n("VU/8")(A,T,!1,function(t){n("4WEg")},null,null).exports,j=n("Zx67"),N=n.n(j),B=n("zwoO"),I=n.n(B),z=n("Pf15"),D=n.n(z),F=n("BO1k"),R=n.n(F),L=n("Dd8w"),P=n.n(L),H=n("C4MV"),Q=n.n(H),q=n("Zrlr"),O=n.n(q),U=n("wxAW"),V=n.n(U),Z=function(){function t(e){var n=this;O()(this,t),this.currentState=0;var a=0,i=function(e){var i=a,s=n.generateValidPropName(e,!1),r=n.generateValidPropName(e),o="is"+r,l="switchTo"+r;Q()(n,s,P()({get:function(){return i}},t.prop_not_enumerable(),t.prop_not_configurable(),t.prop_not_writable())),Q()(n,o,P()({get:function(){return this[s]===this.currentState}},t.prop_enumerable(),t.prop_not_configurable(),t.prop_not_writable())),Q()(n,l,P()({value:function(t){this.fireEvent("before"+r,t),this.currentState=this[s],this.fireEvent("after"+r,t)}},t.prop_enumerable(),t.prop_not_configurable())),a++},s=!0,r=!1,o=void 0;try{for(var l,c=R()(e);!(s=(l=c.next()).done);s=!0){i(l.value)}}catch(t){r=!0,o=t}finally{try{!s&&c.return&&c.return()}finally{if(r)throw o}}console.log(this)}return V()(t,[{key:"addBeforeHook",value:function(t,e){this["before"+this.generateValidPropName(t)]=e}},{key:"addAfterHook",value:function(t,e){this["after"+this.generateValidPropName(t)]=e}},{key:"fireEvent",value:function(t,e){this[t]&&this[t](e)}},{key:"generateValidPropName",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t;;){var a=n.indexOf("_");if(-1===a)break;var i=n.slice(0,a),s=n.slice(a+1,n.length);n=i+(s=this.ucFirst(s))}return e&&(n=this.ucFirst(n)),n}},{key:"ucFirst",value:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}]),t}();Z.prop_not_writable=function(){return{set:function(){throw new K("Trying to write a value into non-writable property!")}}},Z.prop_configurable=function(){return{configurable:!0}},Z.prop_enumerable=function(){return{enumerable:!0}},Z.prop_not_configurable=function(){return{configurable:!1}},Z.prop_not_enumerable=function(){return{enumerable:!1}};var G=Z,K=function(t){function e(){var t,n,a,i;O()(this,e);for(var s=arguments.length,r=Array(s),o=0;o<s;o++)r[o]=arguments[o];return n=a=I()(this,(t=e.__proto__||N()(e)).call.apply(t,[this].concat(r))),a.name="StateManagerError",i=n,I()(a,i)}return D()(e,t),e}(Error),Y="form1",J=new G([Y,"form2"]),W={name:"StatefulManagerExample",components:{Splitpanes:v.Splitpanes,Pane:v.Pane},data:function(){return{form1:{name:null,age:null},form2:{name:null,height:null},state:J,html:'<template>\n  <div class="row">\n  <div class="col-xs-12">\n    <button @click="state.switchToForm1({form2})">форма 1</button>\n    <button @click="state.switchToForm2()">форма 2</button>\n  </div>\n  </div>\n  <br>\n  <div class="row">\n  <div v-if="state.isForm1" class="col-xs-12">\n    <div class="form-group">\n      <label>Введите ваше имя</label>\n      <input v-model="form1.name" type="text" class="form-control">\n    </div>\n\n    <div class="form-group mb-0">\n      <label>Введите ваш возраст</label>\n      <input v-model="form1.age" type="number" class="form-control">\n    </div>\n  </div>\n\n  <div v-if="state.isForm2" class="col-xs-12">\n    <div class="form-group">\n      <label>Введите ваше имя</label>\n      <input v-model="form2.name" type="text" class="form-control">\n    </div>\n\n    <div class="form-group mb-0">\n      <label>Введите ваш рост</label>\n      <input v-model="form2.height" type="number" class="form-control">\n    </div>\n  </div>\n  </div>\n</template>',js:"<script>\n  import StateManager from '../../js/StateManager';\n\n  const STATE = {\n    FORM1: 'form1',\n    FORM2: 'form2',\n  };\n\n  const state_manager = new StateManager([STATE.FORM1, STATE.FORM2]);\n\n  export default {\n    data() {\n      return {\n        form1: {\n          name: null,\n          age: null,\n        },\n        form2: {\n          name: null,\n          height: null,\n        },\n        state: state_manager,\n      }\n    },\n\n    created() {\n      this.state.addBeforeHook(STATE.FORM1, ({form2}) => {\n        this.form1.name = form2.name;\n        this.form1.age  = null;\n      });\n    }\n  }\n<\/script>",usecase:{create:"const STATE = {\n\tCREATE:'create',\n\tEDIT:'edit',\n};\nconst state_manager = new StateManager([STATE.CREATE, STATE.EDIT]);",object:"state_manager.isCreate // bool: Текущий стейт create?\nstate_manager.isEdit // bool: Текущий стейт edit?\nstate_manager.switchToCreate() // переводит объект в create стейт\nstate_manager.switchToEdit() // переводит объект в edit стейт",run:"const state_manager = new StateManager([STATE.CREATE, STATE.EDIT]);\nstate_manager.isCreate; // true\nstate_manager.isEdit; // false\nnstate_manager.switchToEdit();\nstate_manager.isCreate; // false\nstate_manager.isEdit; // true",hook:"//Добавит хук, который вызовется перед тем,\n//как state_manager перейдет в стейт create\nstate_manager.addBeforeHook(STATE.CREATE, () => {});\n\n//Добавит хук, который вызовется после того,\n//как state_manager перейдет в стейт create\nstate_manager.addAfterHook(STATE.CREATE, () => {});",hookargv:"state_manager.addBeforeHook(STATE.CREATE, ({title}) => {\n\tconsole.log('hi from before ' + title);\n});\n\nconst title = 'hook';\nstate_manager.switchToCreate({title}); // console: hi from before hook"}}},created:function(){var t=this;this.state.addBeforeHook(Y,function(e){var n=e.form2;t.form1.name=n.name,t.form1.age=null})}},X={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("splitpanes",{staticClass:"default-theme"},[n("pane",{staticClass:"content-pane",attrs:{"min-size":"40","max-size":"60",size:"50"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"example-area"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12"},[n("button",{on:{click:function(e){return t.state.switchToForm1({form2:t.form2})}}},[t._v("форма 1")]),t._v(" "),n("button",{on:{click:function(e){return t.state.switchToForm2()}}},[t._v("форма 2")])])]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"row"},[t.state.isForm1?n("div",{staticClass:"col-xs-12"},[n("div",{staticClass:"form-group"},[n("label",[t._v("Введите ваше имя")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form1.name,expression:"form1.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form1.name},on:{input:function(e){e.target.composing||t.$set(t.form1,"name",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group mb-0"},[n("label",[t._v("Введите ваш возраст")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form1.age,expression:"form1.age"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form1.age},on:{input:function(e){e.target.composing||t.$set(t.form1,"age",e.target.value)}}})])]):t._e(),t._v(" "),t.state.isForm2?n("div",{staticClass:"col-xs-12"},[n("div",{staticClass:"form-group"},[n("label",[t._v("Введите ваше имя")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form2.name,expression:"form2.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form2.name},on:{input:function(e){e.target.composing||t.$set(t.form2,"name",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group mb-0"},[n("label",[t._v("Введите ваш рост")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form2.height,expression:"form2.height"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.form2.height},on:{input:function(e){e.target.composing||t.$set(t.form2,"height",e.target.value)}}})])]):t._e()])]),t._v(" "),n("div",{staticClass:"example-code-area"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12"},[n("highlightjs",{staticClass:"plain",attrs:{language:"html",code:t.html}}),t._v(" "),n("highlightjs",{staticClass:"plain",attrs:{language:"js",code:t.js}})],1)])])])]),t._v(" "),n("pane",{staticClass:"content-pane",attrs:{"min-size":"40","max-size":"60",size:"50"}},[n("div",{staticClass:"content section extnd"},[n("b",[t._v("StateManager")]),t._v(" позволяет разбить функционал компоненты на конкретные самостоятельные стейты, осуществлять переход между ними, вешать хуки на переходы, а также проверять текущий стейт.\n        "),n("br"),n("br"),t._v("\n        Чтобы использовать StateManager необходимо создать экземпляр:\n        "),n("highlightjs",{attrs:{language:"js",code:t.usecase.create}}),n("br"),t._v("\n        В результате получается объект:\n        "),n("highlightjs",{attrs:{language:"js",code:t.usecase.object}}),n("br"),t._v("\n        Пример:\n        "),n("highlightjs",{attrs:{language:"js",code:t.usecase.run}}),n("br"),t._v("\n        К экземпляру можно добавлять 2 хука на каждый стейт:\n        "),n("highlightjs",{attrs:{language:"js",code:t.usecase.hook}}),n("br"),t._v("\n        Хуки могут принимать агрументы:\n        "),n("highlightjs",{attrs:{language:"js",code:t.usecase.hookargv}}),n("br")],1)])],1)],1)},staticRenderFns:[]};var tt=n("VU/8")(W,X,!1,function(t){n("ZegE")},null,null).exports;var et={name:"StatefulComponentExample",mixins:[function(t){if(!Array.isArray(t))throw new K("StatefulComponent accepts only array as parameter");if(t.some(function(t){return"string"!=typeof t}))throw new K("StateManager state must be a string");return{data:function(){return{state:new G(t)}},beforeMount:function(){this.stateHooks&&this.stateHooks()}}}(["form1","form2"])],components:{Splitpanes:v.Splitpanes,Pane:v.Pane},data:function(){return{js:"import {StatefulComponent} from '../../js/StatefulComponent';\n\nconst STATE = {\n  FORM1: 'form1',\n  FORM2: 'form2',\n};\n\nexport default {\n\n  mixins: [\n    StatefulComponent([STATE.FORM1, STATE.FORM2]),\n  ],\n\n}",usecase:{create:"const STATE = {\n\tFORM1: 'form1',\n\tFORM2: 'form2',\n};\nexport default {\n\tmixins: [\n\t\tStatefulComponent([STATE.FORM1, STATE.FORM2]),\n\t],\n}",get:""}}},methods:{emitRedirect:function(){this.$emit("activated","state_manager")}}},nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("splitpanes",{staticClass:"default-theme"},[n("pane",{staticClass:"content-pane",attrs:{"min-size":"40","max-size":"60",size:"50"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"example-code-area"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12"},[n("highlightjs",{staticClass:"plain",attrs:{language:"js",code:t.js}})],1)])])])]),t._v(" "),n("pane",{staticClass:"content-pane",attrs:{"min-size":"40","max-size":"60",size:"50"}},[n("div",{staticClass:"content section extnd"},[t._v("\n        Миксина-конструктор "),n("b",[t._v("StatefulComponent")]),t._v(" - это обертка на StateManager для Vue-компонента (смотри "),n("a",{on:{click:function(e){return t.emitRedirect()}}},[t._v("StateManager")]),t._v("). "),n("br"),t._v(" Более лаконично описывает, что компонента использует состояния =)\n        "),n("br"),n("br"),t._v("\n        Ммиксина-конструктор принимает массив строк - состояний:\n        "),n("highlightjs",{attrs:{language:"js",code:t.usecase.create}}),n("br"),t._v("\n        Далее миксина примешивается к компоненте и добавляет поле state в свойство data.\n      ")],1)])],1)],1)},staticRenderFns:[]};var at=n("VU/8")(et,nt,!1,function(t){n("8Yst")},null,null).exports,it={name:"Frontend",components:{Splitpanes:v.Splitpanes,Pane:v.Pane,Spoiler:y,Swirl:$,StateManagerExample:tt,StatefulComponentExample:at},data:function(){return{swirls:{stateful_component:!1,state_manager:!1}}},methods:{activatedHandler:function(t){for(var e in this.swirls)this.swirls[e]=!1;this.swirls[t]=!0}}},st={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("splitpanes",{staticClass:"default-theme"},[n("pane",{staticClass:"content-pane",attrs:{"min-size":"20",size:"20"}},[n("div",{staticClass:"content"},[n("Spoiler",{attrs:{hide:"",tab:"",plate:""},scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Чистые выдумки")])]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"ru extnd"},[n("Swirl",{attrs:{active:t.swirls.state_manager},on:{activated:function(e){return t.activatedHandler("state_manager")}}},[t._v("\n              StateManager\n            ")])],1)]),t._v(" "),n("Spoiler",{attrs:{hide:"",tab:"",plate:""},scopedSlots:t._u([{key:"heading",fn:function(){return[n("div",{staticClass:"subheading ru clickable"},[t._v("Миксины")])]},proxy:!0}])},[t._v(" "),n("div",{staticClass:"ru extnd"},[n("Swirl",{attrs:{active:t.swirls.stateful_component},on:{activated:function(e){return t.activatedHandler("stateful_component")}}},[t._v("\n              StatefulComponent\n            ")])],1)])],1)]),t._v(" "),n("pane",{attrs:{"min-size":"70","max-size":"80",size:"80"}},[t.swirls.state_manager?n("StateManagerExample"):t._e(),t._v(" "),t.swirls.stateful_component?n("StatefulComponentExample",{on:{activated:t.activatedHandler}}):t._e()],1)],1)],1)},staticRenderFns:[]};var rt=n("VU/8")(it,st,!1,function(t){n("kxr4")},null,null).exports;a.a.use(u.a);var ot=new u.a({routes:[{path:"",name:"home",redirect:{name:"backend"}},{path:"/backend",name:"backend",component:w},{path:"/cli",name:"cli",component:M},{path:"/frontend",name:"frontend",component:rt}]}),lt=n("V8mf"),ct=n.n(lt);a.a.config.productionTip=!1,a.a.config.silent=!0,a.a.use(ct.a.vuePlugin),new a.a({el:"#app",router:ot,components:{App:c},template:"<App/>"})},Z6VL:function(t,e){},ZegE:function(t,e){},gRDG:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjI4NC45MjlweCIgaGVpZ2h0PSIyODQuOTI5cHgiIHZpZXdCb3g9IjAgMCAyODQuOTI5IDI4NC45MjkiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI4NC45MjkgMjg0LjkyOTsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTI4Mi4wODIsNzYuNTExbC0xNC4yNzQtMTQuMjczYy0xLjkwMi0xLjkwNi00LjA5My0yLjg1Ni02LjU3LTIuODU2Yy0yLjQ3MSwwLTQuNjYxLDAuOTUtNi41NjMsMi44NTZMMTQyLjQ2NiwxNzQuNDQxDQoJCUwzMC4yNjIsNjIuMjQxYy0xLjkwMy0xLjkwNi00LjA5My0yLjg1Ni02LjU2Ny0yLjg1NmMtMi40NzUsMC00LjY2NSwwLjk1LTYuNTY3LDIuODU2TDIuODU2LDc2LjUxNUMwLjk1LDc4LjQxNywwLDgwLjYwNywwLDgzLjA4Mg0KCQljMCwyLjQ3MywwLjk1Myw0LjY2MywyLjg1Niw2LjU2NWwxMzMuMDQzLDEzMy4wNDZjMS45MDIsMS45MDMsNC4wOTMsMi44NTQsNi41NjcsMi44NTRzNC42NjEtMC45NTEsNi41NjItMi44NTRMMjgyLjA4Miw4OS42NDcNCgkJYzEuOTAyLTEuOTAzLDIuODQ3LTQuMDkzLDIuODQ3LTYuNTY1QzI4NC45MjksODAuNjA3LDI4My45ODQsNzguNDE3LDI4Mi4wODIsNzYuNTExeiIvPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo="},kfW8:function(t,e){},kxr4:function(t,e){},r2wP:function(t,e){},rkqb:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f912efd1634a1ea21a3c.js.map